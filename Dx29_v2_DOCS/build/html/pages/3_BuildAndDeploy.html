

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Build &amp; Deploy &mdash; Dx29 v2 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.1. Build" href="3_BuildAndDeploy/1_Build.html" />
    <link rel="prev" title="2.4. Scripts for create and deploy environments" href="2_Environments/4_ScriptsCreateAndDeploy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Dx29 v2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Dx29 v2</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_Architecture.html">1. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Architecture/SystemContext.html">1.1. Level 1: System Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Architecture/Containers.html">1.2. Level 2: Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Architecture/Components.html">1.3. Level 3: Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Architecture/Code.html">1.4. Level 4: Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Environments.html">2. Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Environments/1_AKS-DEV.html">2.1. Dev Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Environments/2_AKS-TEST.html">2.2. Test environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Environments/3_AKS-PRO.html">2.3. Prod environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Environments/4_ScriptsCreateAndDeploy.html">2.4. Scripts for create and deploy environments</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Build &amp; Deploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_BuildAndDeploy/1_Build.html">3.1. Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_BuildAndDeploy/2_Deploy.html">3.2. Deploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_BuildAndDeploy/3_Automation.html">3.3. Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_BuildAndDeploy/4_Locally.html">3.4. Running and working locally</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_BuildAndDeploy/5_CurrentStatus.html">3.5. Current Status of the environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_CodeGuidelines.html">4. Code Guidelines</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Dx29 v2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>3. Build &amp; Deploy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/3_BuildAndDeploy.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <img align="right" width="100px" src="../_images/Foundation29.png"><div class="section" id="build-deploy">
<h1>3. Build &amp; Deploy<a class="headerlink" href="#build-deploy" title="Permalink to this headline">Â¶</a></h1>
<p>The Dx29 application uses a microservices architecture that is deployed in Kubernetes on Azure.
As described so far, it will consist of three environments: development, test and production. In this section we are going to show how the build and deploy tasks would be done for any of them, so we will only focus on an X environment.</p>
<p>For the execution of these tasks, as we work with Gitflow, the only difference at code level will be the branch used for each of the environments. On the other hand, the configuration settings for each one are given by the manifests files, which as we have seen will also be different for each environment and will be located in different projects.</p>
<blockquote>
<div><ul class="simple">
<li>The development environment will use the develop branch of code and the manifest files located in the same repository as the project.</li>
<li>The test environment will use the main branch of the code and the manifest files will be located in the same repository as the execution pipeline (Dx29.EnvTEST).</li>
<li>The production environment will also use the main branch of the code and the manifest files will be located in the same repository as the execution pipeline (Dx29.EnvPROD).</li>
</ul>
</div></blockquote>
<p>Taking this into account, in this section we will define the steps in a generic way for the Build and Deploy tasks, that is, these tasks will follow the same steps independently of the environment, only taking into account the different sources of information input.</p>
<p>On the one hand, the <strong>Build tasks</strong> will comprise the creation of the <strong>Docker containers</strong> for each of the projects separately. In this way, we will be able to automate the implementation of the different functionalities as self-sufficient portable containers that can be run in the cloud or in local environments.</p>
<p><strong>Kubernetes</strong>, on the other hand, is an open source orchestration software that provides an API to control how and where containers will run. It allows you to run Docker containers and workloads and addresses some of the operational complexities of scaling multiple containers deployed on multiple servers. In other words, <strong>deployment</strong> will take place in a Kubernetes cluster that will orchestrate and organise each of the Docker microservices located in an Azure Container Registry:</p>
<blockquote>
<div><ul class="simple">
<li>Deployment of the Docker images</li>
<li>Deployment on the kubernetes cluster</li>
</ul>
</div></blockquote>
<p>While the promise of containers is that they can be scheduled once and run anywhere, Kubernetes allows you to organise and manage all your container resources from a single control plane. It makes it easy to configure networking, load balancing, security, and scaling across all Kubernetes nodes where you run your containers. Kubernetes also has a built-in isolation mechanism, similar to namespaces, that allows you to group container resources by access permission, interim storage environments, and more.</p>
<p>We use Kubernetes with Docker to:</p>
<blockquote>
<div><ul class="simple">
<li>Improve the security and high availability of the Dx29 application. It will stay connected, even if some of the nodes go offline.</li>
<li>Make Dx29 more scalable. It scales the load horizontally to provide a better user experience and it is easy to launch more containers or add nodes to the Kubernetes cluster.</li>
</ul>
</div></blockquote>
<p>With all this, we divide this section into sub-sections to:</p>
<blockquote>
<div><ul class="simple">
<li>Develop more in depth what the <strong>build and deploy tasks</strong> of the Dx29 application consist of and how they are performed.</li>
<li>Expose the <strong>automation</strong> of these tasks using Azure pipelines.</li>
<li>Indicate how to <strong>work locally</strong> with the Dx29 application.</li>
<li>To give some notes on the <strong>deployment status</strong> of the Dx29 application environments and how to work with them.</li>
</ul>
</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="3_BuildAndDeploy/1_Build.html" class="btn btn-neutral float-right" title="3.1. Build" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2_Environments/4_ScriptsCreateAndDeploy.html" class="btn btn-neutral float-left" title="2.4. Scripts for create and deploy environments" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Foundation29

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>